(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(19)},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(3),s=a.n(l),i=(a(18),a(4)),c=a(5),o=a(6),m=a(10),u=a(7),f=a(11),h=a(1);var d=function(e){var t=e.errors;return r.a.createElement("form",{onSubmit:e.handleSubmit},t.map(function(e){return r.a.createElement("p",{key:e},e)}),r.a.createElement("label",null,"Event",r.a.createElement("input",{className:"event",name:"nameOfEvent",type:"text",value:e.nameOfEvent,onChange:e.handleChange,disabled:e.isEventInputDisabled})),r.a.createElement("label",null,"Name",r.a.createElement("input",{className:"namefriend",name:"nameOfFriend",type:"text",value:e.nameOfFriend,onChange:e.handleChange})),r.a.createElement("label",null,"Payment",r.a.createElement("input",{className:"payt",name:"payt",type:"number",value:e.payt,onChange:e.handleChange})),r.a.createElement("label",null,"What for?",r.a.createElement("input",{className:"whatfor",name:"whatFor",type:"text",value:e.whatFor,onChange:e.handleChange})),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"submit",type:"submit"},"Add Friend"),r.a.createElement("button",{type:"reset",className:"reset",onClick:e.handleReset},"Reset")))};var p=function(e){var t=e.friends.reduce(function(e,t){return e+t.payt},0);return"Total: ".concat(t)};var v=function(e){return e.event||"Your Event"};var E=function(e){var t=e.friends.map(function(e){return r.a.createElement("li",{key:e.name},e.name," paid ",e.payt," for ",e.whatFor)});return r.a.createElement("ul",null,t)};var y=function(e){return r.a.createElement("div",{className:"informationtable"},r.a.createElement("h2",{className:"eventandtotal"},r.a.createElement(v,{event:e.event})," | ",r.a.createElement(p,{friends:e.friends})),r.a.createElement(E,{friends:e.friends}))};var b=function(e){var t=function(e){for(var t=e.reduce(function(e,t){return e+t.payt},0)/e.length,a=e.map(function(e){return{name:e.name,payt:e.payt-t}}),n=a.filter(function(e){return e.payt<0}),r=a.filter(function(e){return e.payt>0}),l=[],s=function(e){return parseFloat(Math.abs(e).toFixed(2))},i=0;i<r.length;i++)for(var c=0;c<n.length;c++){var o=void 0;if(0===r[i].payt)break;0!==n[c].payt&&(Math.abs(n[c].payt)<r[i].payt?(o="".concat(n[c].name," gives ").concat(s(n[c].payt)," to ").concat(r[i].name),r[i].payt=r[i].payt+n[i].payt,n[c].payt=0):(o="".concat(n[c].name," gives ").concat(s(r[i].payt)," to ").concat(r[i].name),n[c].payt=n[c].payt+r[i].payt,r[i].payt=0),l.push(o))}return l}(e.friends).map(function(e){return r.a.createElement("li",{key:e},e)});return r.a.createElement("div",{className:"resultofsplitting"},r.a.createElement("h2",null,"Result of Splitting"),r.a.createElement("ul",{className:"transactions"},t))};var g=function(e){return r.a.createElement("div",{className:"calculationarea"},r.a.createElement(y,{friends:e.friends,event:e.event}),r.a.createElement(b,{friends:e.friends}))};var O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={nameOfEvent:"",nameOfFriend:"",payt:"",whatFor:"",friends:[],errors:[],isEventInputDisabled:!1},e.handleInputChange=e.handleInputChange.bind(Object(h.a)(Object(h.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(Object(h.a)(e))),e.handleReset=e.handleReset.bind(Object(h.a)(Object(h.a)(e))),e}return Object(f.a)(t,e),Object(o.a)(t,[{key:"handleInputChange",value:function(e){var t,a=e.target,n=a.name,r="whatFor"===n?a.value:(t=a.value).charAt(0).toUpperCase()+t.slice(1);this.setState(Object(i.a)({},n,r))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.nameOfFriend,n=t.nameOfEvent,r=t.payt,l=t.whatFor,s=t.friends,i=function(e,t,a,n,r){var l=[];0===e.length&&l.push("\u274c Name of event can't be empty");0===t.length&&l.push("\u274c Name of friend can't be empty");r.filter(function(e){return e.name.toLowerCase()===t.toLowerCase()}).length>0&&l.push("\u274c This name of friend already exist");isNaN(parseInt(t))||l.push("\u274c Name of friend can't start from digit");""!==a&&0!==parseFloat(a)||l.push("\u274c Payment must be more than '0'");0===n.length&&l.push('\u274c "What for?" field can\'t be empty');return l}(n,a,r,l,s);i.length>0?this.setState({errors:i}):(this.setState({friends:s.concat([{name:a,payt:+r,whatFor:l}])}),this.setState({nameOfFriend:"",payt:"",whatFor:"",errors:[],isEventInputDisabled:!0}))}},{key:"handleReset",value:function(){this.setState({nameOfEvent:"",nameOfFriend:"",payt:"",whatFor:"",friends:[],errors:[],isEventInputDisabled:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(d,{handleChange:this.handleInputChange,handleSubmit:this.handleSubmit,handleReset:this.handleReset,payt:this.state.payt,nameOfFriend:this.state.nameOfFriend,nameOfEvent:this.state.nameOfEvent,whatFor:this.state.whatFor,errors:this.state.errors,isEventInputDisabled:this.state.isEventInputDisabled}),r.a.createElement(g,{event:this.state.nameOfEvent,friends:this.state.friends}))}}]),t}(r.a.Component),F=a(8),N=a.n(F),w=a(9),C=a.n(w);var j=function(e){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("img",{className:"logo",src:N.a,alt:"logo"})),r.a.createElement(O,null),r.a.createElement("footer",null,r.a.createElement("p",null,"Andrey Nagorniy 2019 | ",r.a.createElement("a",{className:"repo",href:"https://github.com/andmount/friendsplit",target:"_blank",rel:"noreferrer noopener"},"Repo")),r.a.createElement("img",{className:"joe",src:C.a,alt:"joe-staring"})))};s.a.render(r.a.createElement(j,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a.p+"static/media/logo.f91b800e.png"},9:function(e,t,a){e.exports=a.p+"static/media/joe.fd56dd65.png"}},[[12,1,2]]]);
//# sourceMappingURL=main.6b7e233f.chunk.js.map