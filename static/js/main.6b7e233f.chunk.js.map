{"version":3,"sources":["components/AddFriendForm.jsx","components/Total.jsx","components/EventName.jsx","components/FriendsWhoPaid.jsx","components/InformationTable.jsx","components/ResultOfSplitting.jsx","components/CalculationArea.jsx","components/Splitter.jsx","components/App.jsx","index.js","images/logo.png","images/joe.png"],"names":["AddFriendForm","props","errors","react_default","a","createElement","onSubmit","handleSubmit","map","error","key","className","name","type","value","nameOfEvent","onChange","handleChange","disabled","isEventInputDisabled","nameOfFriend","payt","whatFor","onClick","handleReset","Total","total","friends","reduce","sum","friend","concat","EventName","event","FriendsWhoPaid","friendslist","InformationTable","components_EventName","components_Total","components_FriendsWhoPaid","ResultOfSplitting","listOfTransactions","average","length","debtorsAndCreditors","debtors","filter","creditors","transactions","formatNumber","number","parseFloat","Math","abs","toFixed","i","j","transaction","push","friendsToTransactions","CalculationArea","components_InformationTable","components_ResultOfSplitting","Splitter","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","handleInputChange","bind","assertThisInitialized","string","target","charAt","toUpperCase","slice","setState","defineProperty","preventDefault","_this$state","toLowerCase","isNaN","parseInt","validate","components_AddFriendForm","components_CalculationArea","React","Component","App","src","logo","alt","components_Splitter","href","rel","joe","ReactDOM","render","components_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.6b7e233f.chunk.js","sourcesContent":["import React from 'react';\n\nfunction AddFriendForm(props) {\n  const errors = props.errors;\n\n  return (\n    <form onSubmit={props.handleSubmit}>\n      {errors.map(error =>\n        <p key={error}>{error}</p>\n      )}\n      <label>\n        Event\n        <input\n          className='event'\n          name='nameOfEvent'\n          type='text'\n          value={props.nameOfEvent}\n          onChange={props.handleChange}\n          disabled={props.isEventInputDisabled}\n         />\n      </label>\n  \n      <label>\n        Name\n        <input\n          className='namefriend'\n          name='nameOfFriend'\n          type='text'\n          value={props.nameOfFriend}\n          onChange={props.handleChange}\n         />\n      </label>\n      \n      <label>\n        Payment\n        <input\n          className='payt'\n          name='payt'\n          type='number'\n          value={props.payt}\n          onChange={props.handleChange}\n         />\n      </label>\n\n      <label>\n        What for?\n        <input\n          className='whatfor'\n          name='whatFor'\n          type='text'\n          value={props.whatFor}\n          onChange={props.handleChange}\n         />\n      </label>\n\n      <div className='buttons'>\n        <button className='submit' type='submit'>\n          Add Friend\n        </button>\n        \n        <button type='reset' className='reset' onClick={props.handleReset}>\n          Reset\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default AddFriendForm;","function Total(props) {\n  const total = props.friends.reduce(((sum, friend) =>\n    sum + friend.payt), 0\n  );\n  return `Total: ${total}`;\n}\n\nexport default Total;","\nfunction EventName(props) {\n  return props.event || 'Your Event';\n}\n\nexport default EventName;\n","import React from 'react';\n\nfunction FriendsWhoPaid(props) {\n  const friendslist = props.friends.map((friend) =>\n    <li key={friend.name}>{friend.name} paid {friend.payt} for {friend.whatFor}</li>\n  );\n  return (\n    <ul>{friendslist}</ul>\n  );\n}\n\nexport default FriendsWhoPaid;","import React from 'react';\nimport Total from './Total';\nimport EventName from './EventName';\nimport FriendsWhoPaid from './FriendsWhoPaid';\n\nfunction InformationTable(props) {\n  return (\n    <div className='informationtable'>\n      <h2 className='eventandtotal'>\n        <EventName event={props.event} /> | <Total friends={props.friends}/>\n      </h2>\n      <FriendsWhoPaid friends={props.friends}/>\n    </div>\n  );\n}\n\nexport default InformationTable;","import React from 'react';\n\nfunction ResultOfSplitting(props) {\n  const transactions = friendsToTransactions(props.friends);\n  const listOfTransactions = transactions.map((transaction) =>\n    <li key={transaction}>{transaction}</li>  \n  );\n  return (\n    <div className=\"resultofsplitting\">\n      <h2>Result of Splitting</h2>\n      <ul className=\"transactions\">{listOfTransactions}</ul>\n    </div>\n  );\n}\n\nfunction friendsToTransactions(friends) {\n  const sum = friends.reduce(((sum, friend) => sum + friend.payt), 0);\n  const average = sum / friends.length;\n  const debtorsAndCreditors = friends.map(friend => ({\n    name: friend.name,\n    payt: friend.payt - average\n  }));\n  const debtors = debtorsAndCreditors.filter(friend => friend.payt < 0);\n  const creditors = debtorsAndCreditors.filter(friend => friend.payt > 0);\n  const transactions = [];\n\n  const formatNumber = number => parseFloat(Math.abs(number).toFixed(2));\n\n  for (let i = 0; i < creditors.length; i++) {\n    for (let j = 0; j < debtors.length; j++) {\n      let transaction;\n\n      if (creditors[i].payt === 0) {\n        break;\n      }\n\n      if (debtors[j].payt === 0) {\n        continue;\n      }\n\n      if (Math.abs(debtors[j].payt) < creditors[i].payt) {\n        transaction = `${debtors[j].name} gives ${formatNumber(debtors[j].payt)} to ${creditors[i].name}`\n        creditors[i].payt = creditors[i].payt + debtors[i].payt\n        debtors[j].payt = 0;\n      } else {\n        transaction = `${debtors[j].name} gives ${formatNumber(creditors[i].payt)} to ${creditors[i].name}`\n        debtors[j].payt = debtors[j].payt + creditors[i].payt\n        creditors[i].payt = 0;\n      }\n\n      transactions.push(transaction);\n    }\n  }\n  return transactions;\n}\n\nexport default ResultOfSplitting;\nexport { friendsToTransactions };\n\n","import React from 'react';\nimport InformationTable from './InformationTable';\nimport ResultOfSplitting from './ResultOfSplitting';\n\nfunction CalculationArea(props) {\n  return (\n    <div className=\"calculationarea\">\n      <InformationTable friends={props.friends} event={props.event} />\n      <ResultOfSplitting friends={props.friends} />\n    </div>\n  );\n}\n\nexport default CalculationArea;","import React from 'react';\nimport AddFriendForm from './AddFriendForm';\nimport CalculationArea from './CalculationArea';\n\nclass Splitter extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      nameOfEvent: '',\n      nameOfFriend: '',\n      payt: '',\n      whatFor: '',\n      friends: [],\n      errors: [],\n      isEventInputDisabled: false,\n    };\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleReset = this.handleReset.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const name = target.name;\n    const value = name === 'whatFor' ? target.value : toCapitalize(target.value);\n    \n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    const { nameOfFriend, nameOfEvent, payt, whatFor, friends } = this.state;\n    const errors = validate(nameOfEvent, nameOfFriend, payt, whatFor, friends);\n\n    if (errors.length > 0) {\n      this.setState({ errors });\n      return;\n    }\n\n    this.setState({\n      friends: friends.concat([{ name: nameOfFriend, payt: +payt, whatFor}])\n    });\n    this.setState({\n      nameOfFriend: '',\n      payt: '',\n      whatFor: '',\n      errors: [],\n      isEventInputDisabled: true\n    }); \n  }\n\n  handleReset() {\n    this.setState({\n      nameOfEvent: '',\n      nameOfFriend: ''  ,\n      payt: '',\n      whatFor: '',\n      friends: [],\n      errors: [],\n      isEventInputDisabled: false,\n    });\n  }\n\n  render() {\n    return (\n      <div className='container'>\n        <AddFriendForm\n          handleChange={this.handleInputChange}\n          handleSubmit={this.handleSubmit}\n          handleReset={this.handleReset}\n          payt={this.state.payt}\n          nameOfFriend={this.state.nameOfFriend}\n          nameOfEvent={this.state.nameOfEvent}\n          whatFor={this.state.whatFor}\n          errors={this.state.errors}\n          isEventInputDisabled={this.state.isEventInputDisabled}\n        />\n        <CalculationArea \n          event={this.state.nameOfEvent}\n          friends={this.state.friends}\n        />\n      </div>\n    );\n  }\n}\n\n\nfunction validate(nameOfEvent, nameOfFriend, payt, whatFor, friends) {\n  const errors = [];\n\n  if (nameOfEvent.length === 0) {\n    errors.push(\"❌ Name of event can't be empty\");\n  }\n\n  if (nameOfFriend.length === 0) {\n    errors.push(\"❌ Name of friend can't be empty\");\n  }\n\n  if (friends.filter(friend => friend.name.toLowerCase() === nameOfFriend.toLowerCase()).length > 0) {\n    errors.push(\"❌ This name of friend already exist\");\n  }\n\n  if (!(isNaN(parseInt(nameOfFriend)))) {\n    errors.push(\"❌ Name of friend can't start from digit\");\n  }\n\n  if (payt === '' || parseFloat(payt) === 0) {\n    errors.push(\"❌ Payment must be more than '0'\");\n  }\n\n  if (whatFor.length === 0) {\n    errors.push(\"❌ \\\"What for?\\\" field can't be empty\");\n  }\n\n  return errors;\n}\n\nfunction toCapitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport default Splitter;\nexport { validate };","import React from 'react';\nimport Splitter from './Splitter';\nimport logo from '../images/logo.png'\nimport joe from '../images/joe.png'\n\nfunction App(props) {\n  return (\n  <div>\n    <header>\n      <img className='logo' src={logo} alt='logo'/>\n    </header>\n    <Splitter />\n    <footer>\n      <p>\n        Andrey Nagorniy 2019 | <a\n          className='repo'\n          href=\"https://github.com/andmount/friendsplit\"\n          target='_blank'\n          rel='noreferrer noopener'\n        >\n          Repo\n        </a>\n      </p>\n      <img className='joe' src={joe} alt='joe-staring'/>\n    </footer>\n  </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './components/App';\n\nReactDOM.render(<App /> , document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/logo.f91b800e.png\";","module.exports = __webpack_public_path__ + \"static/media/joe.fd56dd65.png\";"],"sourceRoot":""}